<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="833px" preserveAspectRatio="none" style="width:952px;height:833px;background:#FFFFFF;" version="1.1" viewBox="0 0 952 833" width="952px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wio32c6jujqv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.0" dy="2.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="730.9492" style="stroke:#A80036;stroke-width:0.5;" width="5" x="32" y="49.8047"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="719.7734" style="stroke:#A80036;stroke-width:0.5;" width="5" x="213" y="60.9805"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="388.3945" style="stroke:#A80036;stroke-width:0.5;" width="5" x="330" y="369.0078"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="17.6758" style="stroke:#A80036;stroke-width:0.5;" width="5" x="332.5" y="724.5508"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="68.3789" style="stroke:#A80036;stroke-width:0.5;" width="5" x="543.25" y="525.7656"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="49.2031" style="stroke:#A80036;stroke-width:0.5;" width="5" x="545.75" y="544.9414"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="50.5273" style="stroke:#A80036;stroke-width:0.5;" width="5" x="769.5" y="609.3203"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="30.3516" style="stroke:#A80036;stroke-width:0.5;" width="5" x="843" y="675.0234"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="94.2305" style="stroke:#000000;stroke-width:1.0;" width="455.5" x="5" y="122.1836"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="78.0547" style="stroke:#000000;stroke-width:1.0;" width="445.5" x="10" y="134.8594"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="45.8633" style="stroke:#000000;stroke-width:1.0;" width="246.5" x="10" y="223.4141"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="39.5273" style="stroke:#000000;stroke-width:1.0;" width="246.5" x="10" y="276.2773"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="34.5" x2="34.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="215.5" x2="215.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="332.5" x2="332.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="425.5" x2="425.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="482.5" x2="482.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="545.5" x2="545.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="696.5" x2="696.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="772" x2="772" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="845.5" x2="845.5" y1="44.8047" y2="789.7539"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="917.5" x2="917.5" y1="44.8047" y2="789.7539"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="36" x="15" y="43.2666">Sales Clerk</text><ellipse cx="34.5" cy="7.5" fill="#FEFECE" filter="url(#f1wio32c6jujqv)" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;"/><path d="M34.5,11.5 L34.5,25 M28,15.5 L41,15.5 M34.5,25 L28,32.5 M34.5,25 L41,32.5 " fill="none" filter="url(#f1wio32c6jujqv)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="36" x="15" y="796.5205">Sales Clerk</text><ellipse cx="34.5" cy="803.0586" fill="#FEFECE" filter="url(#f1wio32c6jujqv)" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;"/><path d="M34.5,807.0586 L34.5,820.5586 M28,811.0586 L41,811.0586 M34.5,820.5586 L28,828.0586 M34.5,820.5586 L41,828.0586 " fill="none" filter="url(#f1wio32c6jujqv)" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="70" x="179.5" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="47.5" x="190.75" y="28.4619">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="63" x="183" y="37.2666">RegisterCustomerUI</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="70" x="179.5" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="47.5" x="190.75" y="800.0205">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="63" x="183" y="808.8252">RegisterCustomerUI</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="95" x="284" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="42" x="310.5" y="28.4619">«application»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88" x="287.5" y="37.2666">RegisterCustomerController</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="95" x="284" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="42" x="310.5" y="800.0205">«application»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="88" x="287.5" y="808.8252">RegisterCustomerController</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="48" x="400.5" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="18" x="415.5" y="28.4619">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="41" x="404" y="37.2666">AddressDTO</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="48" x="400.5" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="18" x="415.5" y="800.0205">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="41" x="404" y="808.8252">AddressDTO</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="52.5" x="455.5" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="18" x="472.75" y="28.4619">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="45.5" x="459" y="37.2666">CustomerDTO</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="52.5" x="455.5" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="18" x="472.75" y="800.0205">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="45.5" x="459" y="808.8252">CustomerDTO</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="59.5" x="515" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="29.5" x="530" y="28.4619">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.5" x="518.5" y="37.2666">CustomerBuilder</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="59.5" x="515" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="29.5" x="530" y="800.0205">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="52.5" x="518.5" y="808.8252">CustomerBuilder</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="68.5" x="661.5" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="31" x="680.25" y="28.4619">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.5" x="665" y="37.2666">customer:Customer</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="68.5" x="661.5" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="31" x="680.25" y="800.0205">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61.5" x="665" y="808.8252">customer:Customer</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="68" x="737" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="44.5" x="748.75" y="28.4619">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61" x="740.5" y="37.2666">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="68" x="737" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="44.5" x="748.75" y="800.0205">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="61" x="740.5" y="808.8252">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="65" x="812" y="17.6953"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="29.5" x="829.75" y="28.4619">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58" x="815.5" y="37.2666">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1wio32c6jujqv)" height="24.6094" style="stroke:#A80036;stroke-width:0.75;" width="65" x="812" y="789.2539"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="29.5" x="829.75" y="800.0205">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="58" x="815.5" y="808.8252">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="39.5" x="896.5" y="34.4619">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.5" x="884" y="43.2666">CustomerRepository</text><path d="M908.75,9.1953 C908.75,4.1953 917.75,4.1953 917.75,4.1953 C917.75,4.1953 926.75,4.1953 926.75,9.1953 L926.75,22.1953 C926.75,27.1953 917.75,27.1953 917.75,27.1953 C917.75,27.1953 908.75,27.1953 908.75,22.1953 L908.75,9.1953 " fill="#FEFECE" filter="url(#f1wio32c6jujqv)" style="stroke:#000000;stroke-width:0.75;"/><path d="M908.75,9.1953 C908.75,14.1953 917.75,14.1953 917.75,14.1953 C917.75,14.1953 926.75,14.1953 926.75,9.1953 " fill="none" style="stroke:#000000;stroke-width:0.75;"/><text fill="#000000" font-family="sans-serif" font-size="7" font-style="italic" lengthAdjust="spacing" textLength="39.5" x="896.5" y="796.5205">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="64.5" x="884" y="805.3252">CustomerRepository</text><path d="M908.75,811.8633 C908.75,806.8633 917.75,806.8633 917.75,806.8633 C917.75,806.8633 926.75,806.8633 926.75,811.8633 L926.75,824.8633 C926.75,829.8633 917.75,829.8633 917.75,829.8633 C917.75,829.8633 908.75,829.8633 908.75,824.8633 L908.75,811.8633 " fill="#FEFECE" filter="url(#f1wio32c6jujqv)" style="stroke:#000000;stroke-width:0.75;"/><path d="M908.75,811.8633 C908.75,816.8633 917.75,816.8633 917.75,816.8633 C917.75,816.8633 926.75,816.8633 926.75,811.8633 " fill="none" style="stroke:#000000;stroke-width:0.75;"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="730.9492" style="stroke:#A80036;stroke-width:0.5;" width="5" x="32" y="49.8047"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="719.7734" style="stroke:#A80036;stroke-width:0.5;" width="5" x="213" y="60.9805"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="388.3945" style="stroke:#A80036;stroke-width:0.5;" width="5" x="330" y="369.0078"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="17.6758" style="stroke:#A80036;stroke-width:0.5;" width="5" x="332.5" y="724.5508"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="68.3789" style="stroke:#A80036;stroke-width:0.5;" width="5" x="543.25" y="525.7656"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="49.2031" style="stroke:#A80036;stroke-width:0.5;" width="5" x="545.75" y="544.9414"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="50.5273" style="stroke:#A80036;stroke-width:0.5;" width="5" x="769.5" y="609.3203"/><rect fill="#FFFFFF" filter="url(#f1wio32c6jujqv)" height="30.3516" style="stroke:#A80036;stroke-width:0.5;" width="5" x="843" y="675.0234"/><polygon fill="#A80036" points="207,58.9805,212,60.9805,207,62.9805,209,60.9805" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="37" x2="210" y1="60.9805" y2="60.9805"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="40.5" y="58.5522">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="134.5" x="46" y="58.5522">Starts the process to register a new customer.</text><polygon fill="#A80036" points="326.5,74.1563,331.5,76.1563,326.5,78.1563,328.5,76.1563" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="218" x2="329.5" y1="76.1563" y2="76.1563"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="221.5" y="73.728">2</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="18" x="227" y="73.728">create</text><polygon fill="#A80036" points="42.5,97.5078,37.5,99.5078,42.5,101.5078,40.5,99.5078" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:2.0,2.0;" x1="39.5" x2="212.5" y1="99.5078" y2="99.5078"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="45.5" y="92.9917">3</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="156.5" x="51" y="88.9038">Asks the required information (firstNames, lastNames,</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="141" x="51" y="97.0796">VAT, emailAddress, diallingCode, phoneNumber)</text><polygon fill="#A80036" points="207,112.6836,212,114.6836,207,116.6836,209,114.6836" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="37" x2="210" y1="114.6836" y2="114.6836"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="40.5" y="112.2554">4</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="43" x="46" y="112.2554">Inputs the data</text><path d="M5,122.1836 L35.5,122.1836 L35.5,126.1836 L30.5,131.1836 L5,131.1836 L5,122.1836 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.5;"/><rect fill="none" height="94.2305" style="stroke:#000000;stroke-width:1.0;" width="455.5" x="5" y="122.1836"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="8" x="12.5" y="129.4312">alt</text><text fill="#000000" font-family="sans-serif" font-size="5.5" font-weight="bold" lengthAdjust="spacing" textLength="150" x="43" y="128.8931">[Sales Clerk wants to add addresses to the customer]</text><path d="M10,134.8594 L46.5,134.8594 L46.5,138.8594 L41.5,143.8594 L10,143.8594 L10,134.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.5;"/><rect fill="none" height="78.0547" style="stroke:#000000;stroke-width:1.0;" width="445.5" x="10" y="134.8594"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17.5" y="142.1069">loop</text><text fill="#000000" font-family="sans-serif" font-size="5.5" font-weight="bold" lengthAdjust="spacing" textLength="157.5" x="54" y="141.5688">[while Sales Clerk add more addresses to the customer]</text><polygon fill="#A80036" points="42.5,161.3867,37.5,163.3867,42.5,165.3867,40.5,163.3867" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:2.0,2.0;" x1="39.5" x2="212.5" y1="163.3867" y2="163.3867"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="45.5" y="156.8706">5</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="83" x="51" y="152.7827">Asks the postalCode, street,</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="85.5" x="51" y="160.9585">doorNumber, city and country</text><polygon fill="#A80036" points="207,176.5625,212,178.5625,207,180.5625,209,178.5625" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="37" x2="210" y1="178.5625" y2="178.5625"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="40.5" y="176.1343">6</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="43" x="46" y="176.1343">Inputs the data</text><polygon fill="#A80036" points="419.5,191.7383,424.5,193.7383,419.5,195.7383,421.5,193.7383" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="218" x2="422.5" y1="193.7383" y2="193.7383"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="221.5" y="191.3101">7</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="164.5" x="227" y="191.3101">create(postalCode, street, doorNumber, city and country)</text><polygon fill="#A80036" points="223.5,206.9141,218.5,208.9141,223.5,210.9141,221.5,208.9141" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="220.5" x2="425" y1="208.9141" y2="208.9141"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="226.5" y="206.4858">8</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="36" x="232" y="206.4858">addressDTO</text><path d="M10,223.4141 L40.5,223.4141 L40.5,227.4141 L35.5,232.4141 L10,232.4141 L10,223.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.5;"/><rect fill="none" height="45.8633" style="stroke:#000000;stroke-width:1.0;" width="246.5" x="10" y="223.4141"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="8" x="17.5" y="230.6616">alt</text><text fill="#000000" font-family="sans-serif" font-size="5.5" font-weight="bold" lengthAdjust="spacing" textLength="81" x="48" y="230.1235">[Sales Clerk wants to add the</text><text fill="#000000" font-family="sans-serif" font-size="5.5" font-weight="bold" lengthAdjust="spacing" textLength="73" x="48" y="237.0415">birthdate to the customer]</text><polygon fill="#A80036" points="42.5,248.1016,37.5,250.1016,42.5,252.1016,40.5,250.1016" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:2.0,2.0;" x1="39.5" x2="212.5" y1="250.1016" y2="250.1016"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.5" x="45.5" y="247.6733">9</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="53" x="51" y="247.6733">Asks the birthdate</text><polygon fill="#A80036" points="207,263.2773,212,265.2773,207,267.2773,209,265.2773" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="37" x2="210" y1="265.2773" y2="265.2773"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="40.5" y="262.8491">10</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="55.5" x="49.5" y="262.8491">Inputs the birthdate</text><path d="M10,276.2773 L40.5,276.2773 L40.5,280.2773 L35.5,285.2773 L10,285.2773 L10,276.2773 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.5;"/><rect fill="none" height="39.5273" style="stroke:#000000;stroke-width:1.0;" width="246.5" x="10" y="276.2773"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="8" x="17.5" y="283.5249">alt</text><text fill="#000000" font-family="sans-serif" font-size="5.5" font-weight="bold" lengthAdjust="spacing" textLength="150.5" x="48" y="282.9868">[Sales Clerk wants to add the gender to the customer]</text><polygon fill="#A80036" points="42.5,294.6289,37.5,296.6289,42.5,298.6289,40.5,296.6289" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:2.0,2.0;" x1="39.5" x2="212.5" y1="296.6289" y2="296.6289"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="45.5" y="294.2007">11</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="58.5" x="54.5" y="294.2007">Show list of genders</text><polygon fill="#A80036" points="207,309.8047,212,311.8047,207,313.8047,209,311.8047" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="37" x2="210" y1="311.8047" y2="311.8047"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="40.5" y="309.3765">12</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="50" x="49.5" y="309.3765">Inputs the gender</text><polygon fill="#A80036" points="476.75,336.6563,481.75,338.6563,476.75,340.6563,478.75,338.6563" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="218" x2="479.75" y1="338.6563" y2="338.6563"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="221.5" y="332.1401">13</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="158.5" x="230.5" y="328.0522">create(firstNames, lastNames, vat, email, diallingCode,</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="133" x="230.5" y="336.228">phoneNumber, addressList, birthDate, gender)</text><polygon fill="#A80036" points="223.5,351.832,218.5,353.832,223.5,355.832,221.5,353.832" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="220.5" x2="482.25" y1="353.832" y2="353.832"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="226.5" y="351.4038">14</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="40" x="235.5" y="351.4038">customerDTO</text><polygon fill="#A80036" points="324,367.0078,329,369.0078,324,371.0078,326,369.0078" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="218" x2="327" y1="369.0078" y2="369.0078"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="221.5" y="366.5796">15</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="93.5" x="230.5" y="366.5796">registerCustomer(customerDTO)</text><polygon fill="#A80036" points="539.75,384.6836,544.75,386.6836,539.75,388.6836,541.75,386.6836" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="386.6836" y2="386.6836"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="384.2554">16</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="18" x="347.5" y="384.2554">create</text><path d="M548,375.5078 L548,388.5078 L681,388.5078 L681,380.5078 L676,375.5078 L548,375.5078 " fill="#FBFB77" filter="url(#f1wio32c6jujqv)" style="stroke:#A80036;stroke-width:0.5;"/><path d="M676,375.5078 L676,380.5078 L681,380.5078 L676,375.5078 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="122.5" x="551" y="384.7554">Builder creates a Customer in a valid state</text><polygon fill="#A80036" points="539.75,402.3594,544.75,404.3594,539.75,406.3594,541.75,404.3594" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="404.3594" y2="404.3594"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="401.9312">17</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="77.5" x="347.5" y="401.9312">setFirstNames(firstNames)</text><polygon fill="#A80036" points="539.75,417.5352,544.75,419.5352,539.75,421.5352,541.75,419.5352" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="419.5352" y2="419.5352"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="417.1069">18</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="77" x="347.5" y="417.1069">setLastNames(lastNames)</text><polygon fill="#A80036" points="539.75,432.7109,544.75,434.7109,539.75,436.7109,541.75,434.7109" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="434.7109" y2="434.7109"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="432.2827">19</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="33.5" x="347.5" y="432.2827">setVAT(vat)</text><polygon fill="#A80036" points="539.75,447.8867,544.75,449.8867,539.75,451.8867,541.75,449.8867" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="449.8867" y2="449.8867"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="447.4585">20</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="45" x="347.5" y="447.4585">setEmail(email)</text><polygon fill="#A80036" points="539.75,463.0625,544.75,465.0625,539.75,467.0625,541.75,465.0625" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="465.0625" y2="465.0625"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="462.6343">21</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="133" x="347.5" y="462.6343">setPhoneNumber(diallingCode, phoneNumber)</text><polygon fill="#A80036" points="539.75,478.2383,544.75,480.2383,539.75,482.2383,541.75,480.2383" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="480.2383" y2="480.2383"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="477.8101">22</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="94" x="347.5" y="477.8101">setAddressList(addressDTOList)</text><polygon fill="#A80036" points="539.75,493.4141,544.75,495.4141,539.75,497.4141,541.75,495.4141" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="495.4141" y2="495.4141"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="492.9858">23</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="89" x="347.5" y="492.9858">setBirthDate(day, month, year)</text><polygon fill="#A80036" points="539.75,508.5898,544.75,510.5898,539.75,512.5898,541.75,510.5898" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="542.75" y1="510.5898" y2="510.5898"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="508.1616">24</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="53.5" x="347.5" y="508.1616">setGender(gender)</text><polygon fill="#A80036" points="537.25,523.7656,542.25,525.7656,537.25,527.7656,539.25,525.7656" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="540.25" y1="525.7656" y2="525.7656"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="523.3374">25</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="64.5" x="347.5" y="523.3374">build(customerBuilder)</text><line style="stroke:#A80036;stroke-width:0.5;" x1="548.25" x2="571.75" y1="538.4414" y2="538.4414"/><line style="stroke:#A80036;stroke-width:0.5;" x1="571.75" x2="571.75" y1="538.4414" y2="544.9414"/><line style="stroke:#A80036;stroke-width:0.5;" x1="551.25" x2="571.75" y1="544.9414" y2="544.9414"/><polygon fill="#A80036" points="556.25,542.9414,551.25,544.9414,556.25,546.9414,554.25,544.9414" style="stroke:#A80036;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="554.25" y="536.0132">26</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="37.5" x="563.25" y="536.0132">buildOrThrow</text><polygon fill="#A80036" points="690.75,576.9688,695.75,578.9688,690.75,580.9688,692.75,578.9688" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="550.75" x2="693.75" y1="578.9688" y2="578.9688"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="554.25" y="568.3647">27</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="100" x="563.25" y="560.189">create(firstNames, lastNames, vat,</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="123" x="563.25" y="568.3647">emailAddress, phoneNumber, addressList,</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="51.5" x="563.25" y="576.5405">birthDate, gender)</text><polygon fill="#A80036" points="340.5,592.1445,335.5,594.1445,340.5,596.1445,338.5,594.1445" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="337.5" x2="545.25" y1="594.1445" y2="594.1445"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="343.5" y="591.7163">28</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="27" x="352.5" y="591.7163">customer</text><polygon fill="#A80036" points="763.5,607.3203,768.5,609.3203,763.5,611.3203,765.5,609.3203" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="766.5" y1="609.3203" y2="609.3203"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="606.8921">29</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="37.5" x="347.5" y="606.8921">repositories()</text><path d="M777,615.8203 L777,628.8203 L870,628.8203 L870,620.8203 L865,615.8203 L777,615.8203 " fill="#FBFB77" filter="url(#f1wio32c6jujqv)" style="stroke:#A80036;stroke-width:0.5;"/><path d="M865,615.8203 L865,620.8203 L870,620.8203 L865,615.8203 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="82.5" x="780" y="625.0679">repository in memory or JPA</text><polygon fill="#A80036" points="839.5,642.6719,844.5,644.6719,839.5,646.6719,841.5,644.6719" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="774.5" x2="842.5" y1="644.6719" y2="644.6719"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="778" y="642.2437">30</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="18" x="787" y="642.2437">create</text><polygon fill="#A80036" points="340.5,657.8477,335.5,659.8477,340.5,661.8477,338.5,659.8477" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="337.5" x2="771.5" y1="659.8477" y2="659.8477"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="343.5" y="657.4194">31</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="19.5" x="352.5" y="657.4194">factory</text><polygon fill="#A80036" points="837,673.0234,842,675.0234,837,677.0234,839,675.0234" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="840" y1="675.0234" y2="675.0234"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="672.5952">32</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="34.5" x="347.5" y="672.5952">customers()</text><polygon fill="#A80036" points="911.75,688.1992,916.75,690.1992,911.75,692.1992,913.75,690.1992" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="848" x2="914.75" y1="690.1992" y2="690.1992"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="851.5" y="687.771">33</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="18" x="860.5" y="687.771">create</text><polygon fill="#A80036" points="340.5,703.375,335.5,705.375,340.5,707.375,338.5,705.375" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="337.5" x2="845" y1="705.375" y2="705.375"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="343.5" y="702.9468">34</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="58" x="352.5" y="702.9468">customerRepository</text><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="358.5" y1="718.0508" y2="718.0508"/><line style="stroke:#A80036;stroke-width:0.5;" x1="358.5" x2="358.5" y1="718.0508" y2="724.5508"/><line style="stroke:#A80036;stroke-width:0.5;" x1="338" x2="358.5" y1="724.5508" y2="724.5508"/><polygon fill="#A80036" points="343,722.5508,338,724.5508,343,726.5508,341,724.5508" style="stroke:#A80036;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="341" y="715.6226">35</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="72" x="350" y="715.6226">saveCustomer(customer)</text><polygon fill="#A80036" points="911.75,740.2266,916.75,742.2266,911.75,744.2266,913.75,742.2266" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="335" x2="914.75" y1="742.2266" y2="742.2266"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="338.5" y="739.7983">36</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="44" x="347.5" y="739.7983">save(customer)</text><polygon fill="#A80036" points="223.5,755.4023,218.5,757.4023,223.5,759.4023,221.5,757.4023" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;" x1="220.5" x2="332" y1="757.4023" y2="757.4023"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="226.5" y="754.9741">37</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="27" x="235.5" y="754.9741">customer</text><polygon fill="#A80036" points="40,778.7539,35,780.7539,40,782.7539,38,780.7539" style="stroke:#A80036;stroke-width:0.5;"/><line style="stroke:#A80036;stroke-width:0.5;stroke-dasharray:2.0,2.0;" x1="37" x2="215" y1="780.7539" y2="780.7539"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7" x="43" y="774.2378">38</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="105" x="52" y="770.1499">Informs the success of the operation</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="119" x="52" y="778.3257">and show the information of the customer</text><!--MD5=[7fc15b7baaac5a4f26658a8d78a6e535]
@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterCustomerUI as UI <<presentation>>
participant RegisterCustomerController as Controller <<application>>
participant AddressDTO as DTO1 <<dto>>
participant CustomerDTO as DTO2 <<dto>>
participant CustomerBuilder as Builder <<builder>>
participant "customer:Customer" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database CustomerRepository as Repository <<repository>>

activate SC
SC -> UI : Starts the process to register a new customer.
activate UI
UI -> Controller: create
UI - -> SC : Asks the required information (firstNames, lastNames, \nVAT, emailAddress, diallingCode, phoneNumber)
SC -> UI : Inputs the data
alt Sales Clerk wants to add addresses to the customer
loop while Sales Clerk add more addresses to the customer
UI - -> SC : Asks the postalCode, street, \ndoorNumber, city and country
SC -> UI : Inputs the data
UI -> DTO1 : create(postalCode, street, doorNumber, city and country)
DTO1 -> UI : addressDTO
end
end
alt Sales Clerk wants to add the \nbirthdate to the customer
UI - -> SC : Asks the birthdate
SC -> UI : Inputs the birthdate
end
alt Sales Clerk wants to add the gender to the customer
UI - -> SC : Show list of genders
SC -> UI : Inputs the gender
end
UI -> DTO2 : create(firstNames, lastNames, vat, email, diallingCode, \nphoneNumber, addressList, birthDate, gender)
DTO2 -> UI : customerDTO
UI -> Controller: registerCustomer(customerDTO)
activate Controller
Controller -> Builder : create
note right
Builder creates a Customer in a valid state
end note
Controller -> Builder : setFirstNames(firstNames)
Controller -> Builder : setLastNames(lastNames)
Controller -> Builder : setVAT(vat)
Controller -> Builder : setEmail(email)
Controller -> Builder : setPhoneNumber(diallingCode, phoneNumber)
Controller -> Builder : setAddressList(addressDTOList)
Controller -> Builder : setBirthDate(day, month, year)
Controller -> Builder : setGender(gender)
Controller -> Builder : build(customerBuilder)
activate Builder
Builder -> Builder : buildOrThrow
activate Builder
Builder -> Domain : create(firstNames, lastNames, vat, \nemailAddress, phoneNumber, addressList, \nbirthDate, gender)
Builder -> Controller : customer
deactivate Builder
deactivate Builder
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: repository in memory or JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: customers()
activate Factory
Factory -> Repository: create
Factory -> Controller: customerRepository
deactivate Factory
Controller -> Controller : saveCustomer(customer)
activate Controller
Controller -> Repository: save(customer)
deactivate Controller
Controller -> UI: customer
deactivate Controller
UI - -> SC : Informs the success of the operation \nand show the information of the customer
deactivate UI
deactivate SC

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>